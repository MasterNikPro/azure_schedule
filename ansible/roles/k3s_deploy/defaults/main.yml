---
# Default configurations
namespaces: [
    {
      "name": "lab"
    }
]
configmaps: [
  {
    "name": "backend-config",
    "data": {
      DB_HOST: "my-infra-maindb-dev.postgres.database.azure.com",
      DB_PORT: "5432",
      DB_NAME: "postgres?sslmode=require",
      REDIS_HOST: "redis-svc",
      REDIS_PORT: "6379"
    },
    "namespace": "lab"
  }
]
secrets: [
  {
    "name": "backend-secret",
    "data": {
      "DB_USER": "schedule_user",
      "DB_PASSWORD": "MyPassword1234!"
    },
    "namespace": "lab"
  }
]
services: [
  {
    "name": "redis-svc",
    "app": "redis",
    "type": "ClusterIP",
    "port": 6379,
    "target_port": 6379,
    "protocol": "TCP",
    "namespace": "lab"
  },
  {
    "name": "backend-svc",
    "app": "backend",
    "type": "NodePort",
    "port": 8080,
    "target_port": 8080,
    "protocol": "TCP",
    "node_port": 30088,
    "namespace": "lab"
  },
  {
    "name": "frontend-svc",
    "app": "frontend",
    "type": "NodePort",
    "port": 80,
    "target_port": 80,
    "protocol": "TCP",
    "node_port": 30080,
    "namespace": "lab"
  }
]
deployments:  [
  {
    "name": "redis",
    "app": "redis",
    "registry": "dockerhub",
    "image": "redis:7-alpine",
    "replicas": 1,
    "port": 6379,
    "config_refs": [],
    "secret_refs": [],
    "namespace": "lab"
  },
  {
    "name": "backend",
    "app": "backend",
    "registry": "dockerhub",
    "image": "dolvladzio/backend",
    "replicas": 1,
    "port": 8080,
    "config_refs": ["backend-config"],
    "secret_refs": ["backend-secret"],
    "namespace": "lab"
  },
  {
    "name": "frontend",
    "app": "frontend",
    "registry": "dockerhub",
    "image": "dolvladzio/frontend",
    "replicas": 1,
    "port": 80,
    "config_refs": [],
    "secret_refs": [],
    "namespace": "lab"
  }
]